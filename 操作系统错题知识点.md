# 操作系统错题知识点
## 《961计算机基础综合配套习题》
### 第一章 操作系统概述
1. 从用户的观点看，操作系统是 ~**用户与计算机之间的接口**。~
2. 多道程序(multiprogramming)是作业之间自动调度执行、共享系统资源，并不是真正地同时执行多个作业；而多重处理(multiprocessing)系统配置多个CPU，能真正同时执行多道程序。要有效使用多重处理，必须采用 多道程序设计 技术，而 多道程序设计 原则上不一定要求多重处理系统的支持。多重处理系统比起单处理系统来说，虽增加了硬件设施，却换来了提高系统吞吐量、可靠性、 计算能力 和并行处理能力等好处。
3. 1. 批处理操作系统
	批处理(Batch Processing)操作系统的工作方式是：用户将作业交给系统操作员，系统操作员将许 **~多用户的作业组成一批作业~** ，之后输入到计算机中，在系统中形成一个 ~自动转接的连续的作业流~ ，然后启动操作系统，系统自动、依次执行每个作业。最后由操作员将作业结果交给用户。
批处理操作系统的特点是：多道和成批处理。
2． 分时操作系统 
	分时(Time Sharing)操作系统的工作方式是：一台主机连 ~**接了若干个终端~** ，每个终端有一个用户在使用。用户 **~交互式地向系统提出命令请求~** ，系统接受每个用户的命令，采用 **~时间片轮转~** 方式处理服务请求，并通过交互方式在终端上向用户显示结果。用户根据上步结果发出下道命令。 分时操作系统 将CPU的时间划分成若干个片段，称为时间片。操作系统以时间片为单位，轮流为每个终端用户服务。每个用户轮流使用一个时间片而使每个用户并不感到有别的用户存在。分时系统具有 **~多路性、交互性、“独占”性和及时性~** 的特征。多路性指， ~**同时有多个用户使用一台计算机**~ ， ~**宏观上看是多个人同时使用一个CPU**~ ， **~微观上是多个人在不同时刻轮流使用CPU~** 。交互性是指，用户根据系统响应结果进一步提出新请求(用户直接干预每一步)。“独占”性是指，用户感觉不到计算机为其他人服务，就像整个系统为他所独占。及时性指，系统对用户提出的请求及时响应。它支持位于不同终端的多个用户同时使用一台计算机，彼此独立互不干扰，用户感到好像一台计算机全为他所用。
常见的通用操作系统是分时系统与批处理系统的结合。其原则是： **~分时优先，批处理在后~** 。“前台”响应需频繁交互的作业，如终端的要求； “后台”处理时间性要求不强的作业。
3．实时操作系统
	实时操作系统(RealTimeOperatingSystem，RTOS)是指使计算机能及时响应外部事件的请求在规定的严格时间内完成对该事件的处理，并控制所有实时设备和实时任务协调一致地工作的操作系统。实时操作系统要追求的目标是：对外部请求在 ~严格时间范围内做~ 出反应，有高**可靠性**和**完整性**。其主要特点是资源的分配和调度首先要考虑**实时性**然后才是**效率**。此外，实时操作系统应有较强的**容错能力**。
4．网络操作系统
	网络操作系统是基于 计算机网络 的，是在各种 计算机操作系统上按网络体系结构协议标准开发的软件，包括网络管理、通信、安全、资源共享和各种网络应用。其目标是 ~**相互通信及资源共享**~ 。在其支持下，网络中的各台计算机能互相通信和共享资源。其主要特点是与网络的硬件相结合来完成网络的通信任务。
5．分布式操作系统
	它是为分布计算系统配置的操作系统。大量的计算机通过 ~**网络被连结在一起**~ ，可以获得极高的运算能力及广泛的数据共享。这种系统被称作分布式系统(DistributedSystem) 。它在资源管理，通信控制和操作系统的结构等方面都与其他操作系统有较大的区别。由于分布计算机系统的资源分布于系统的不同计算机上，操作系统对用户的资源需求不能像一般的操作系统那样等待有资源时直接分配的简单做法而是要在系统的各台计算机上搜索，找到所需资源后才可进行分配。对于有些资源，如具有多个副本的文件，还必须考虑一致性。所谓 **~一致性是指若干个用户对同一个文件所同时读出的数据是一致的~** 。为了保证一致性，操作系统须控制文件的读、写、操作，使得多个用户可同时读一个文件，而任一时刻最多只能有一个用户在修改文件。分布操作系统的通信功能类似于网络操作系统。由于分布计算机系统不像网络分布得很广，同时分布操作系统还要支持并行处理，因此它提供的通信机制和网络操作系统提供的有所不同，它要求通信速度高。分布操作系统的结构也不同于其他操作系统，它分布于系统的各台计算机上，能并行地处理用户的各种需求，有较强的容错能力。
4. 进程调度是由软件实现的，不需要硬件的直接支持。
5. 批处理系统的目的是提高系统吞吐量和资源的利用率，其缺点是 ~**无 交互性**~ 。 
6. 批处理系统特点：
	优点：资源利用率高，系统吞吐量(系统在单位时间内所完成的总工作量)大。
	缺点：平均周转时间（从作业进入系统开始，直至作业完成并退出系统为止所经历的时间）长，且无交互能力（用户一旦将作业提交给系统，直至作业完成，用户都不能作业进行交互，这对修改与调试程序均是不方便的）。

分时系统特点：
	人机交互：能够边运行边修改。
	共享主机：当使用计算机时感觉是自己独占主机，不仅能够随时与计算机进行交互，并且感觉不到其他用户也在使用该计算机。
7.  [时间换空间](https://www.baidu.com/s?wd=%E6%97%B6%E9%97%B4%E6%8D%A2%E7%A9%BA%E9%97%B4&tn=SE_PcZhidaonwhc_ngpagmjz&rsv_dl=gh_pc_zhidao) 的技术啊，什么请求分页、请求分段、请求段页式，都是啊，这些都是让访问时间增加了，但是扩充了主存的逻辑容量，使得大于主存容量的程序也可以得到执行。
 [空间换时间](https://www.baidu.com/s?wd=%E7%A9%BA%E9%97%B4%E6%8D%A2%E6%97%B6%E9%97%B4&tn=SE_PcZhidaonwhc_ngpagmjz&rsv_dl=gh_pc_zhidao) 的话，各类的缓冲区、缓冲池都是的，本来需要在速度很慢的设备上I/O的，但是自从划分了些存储区域做缓冲，那么就可以减少访问时间啊。再如UNIX的文件系统中的超级块被放在内存中，减少访问时间。
8.  [SPOOLing技术](https://baike.baidu.com/item/SPOOLing%E6%8A%80%E6%9C%AF) 是在通道技术和多道 程序设计基础 上产生的，它由 主机 和相应的通道共同承担作业的输入输出工作，利用磁盘作为后援 存储器 ，实现 外围设备 同时联机操作。
9. 覆盖：把一个程序划分为一系列功能相对独立的程序段，让执行时不要求同时装入内存的程序段组成一组（称为覆盖段） ，共享主存的同一个区域，这种内存扩充技术就是覆盖。
对换：是指将暂时不用的某个进程及数据（首先是处于阻塞状态优先级最低的）部分（或全部）从内存移到到外存（备份区或对换区）中去，让出内存空间，同时将某个需要的进程调入到内存中，让其运行。
10. 计算机系统是由 ~**硬件**~ 系统和 ~**软件**~ 系统两部分组成。
11. 采用多道程序设计技术能充分发挥 ~**CPU**~ 和 **~外设~** 并行工作的能力。
12. 多道程序设计的特点是 ~**多道**~、 ~**宏观上并行**~、 **~微观上串行~** 。
13. 操作系统向用户提供了两类借口，一类是 ~**命令级接口**~ ，另一类是 **~程序级接口~** 。
14. 操作系统是计算机系统中的一个 **~系统软件~**，他管理和控制着计算机系统中的 ~**软件和硬件资源**~ 。
15. 与许多个用户以交互使用计算机的操作系统称为**~分时操作系统~** 。
16. 与许多个用户将多个作业提交给计算机集中处理的操作系统称为 ~**批处理操作系统**~ 。
17. 对系统的总体设计目标来说,批处理操作系统应注重提高计算机的效率,尽量增加系统的 **~平均吞吐量~** ,分时操作系统应保证用户 **~所能忍受的响应时间~** ;而实时操作系统则应在保证及时响应和处理有关事件的前提下,再考虑 **~系统资源的利用率~** 。
18. 为了实现多道程序设计，计算机系统在硬件方面必须提供两种支持，它们是 ~**中断**~ 和 ~**通道**~ 。
19. 批处理系统的基本特征是“批量”, 它把提高 ~**作业的吞吐量**~ 作为主要设计目标,同时也兼顾作业的 ~**周转时间**~。
20. 单道批处理系统是在解决 ~**人机矛盾**~ 和 **~CPU与I/O设备~** 的矛盾中发展起来的。
21. 为了解决**人机矛盾及CPU和I/O设备之间速度不匹配的矛盾**，出现了批处理系统。它按发展历程又分为单道批处理系统、多道批处理系统（多道程序设计技术出现以后）。
22. 操作系统的基本功能包括处理器管理、存储器管理、设备管理和文件管理。除此之外还为用户使用操作系统提供了用户接口。
23. **~通用操作系统~**:具有多种类型操作特征的操作系统。可以同时兼有多道批处理、分时、实时处理的功能,或其中两种以上的功能。
24. 在分时和批处理系统结合的操作系统中引入“前台”和“后台”作业的概念，其目，的是为了提高CPU的利用率。
25. 分时操作系统的主要特征有三个 **~多路性、交互性、独占性。~**
26. 分时操作性痛和实时操作系统的主要区别是 **~及时性和高可靠性~** 。
27. 于程序和数据都在 ~外围机的控制下~ 完成，或者说，他们在脱离主机的情况下进行的，故此称为**脱机输入/输出** ,反之，在 ~主机的直接控制下~ 进行的输入/输出的方式称为**联机输入/输出方式**。
28. 般系统的性能指标有：
1、响应时间（系统为其服务所耗费的时间）。
2、 **~吞吐率~** （简单讲就是系统在每单位时间内能处理多少个事务/请求/单位数据等）。
3、 **~资源利用率~** （常见的资源有：CPU占用率、内存使用率、磁盘I/O、网络I/O）。
4、点击数（单位时间内，系统响应客户的请求，是系统处理能力的一个很有用的指标）。
5、并发用户数（并发用户数用来度量服务器并发容量和同步协调能力）。
29. **~并发和共享~** 是操作系统的两个最基本的特征，两者互为存在条件。
### 第2章 进程管理
1. 优先权的分类：
1) 静态优先权
	静态优先权是在创建进程时确定的,且在进程的整个运行期间保持不变.
一般地,优先权是利用某一范围内的一个整数来表示的,例如,0~7或0~255中的某一整数, 又把该整数称为优先数.只是具体用法各异:有的系统用”0”表示最高优先权,当数值愈大时,其优先权愈低;而有的系统恰恰相反.
确定进程优先权的依据有如下三个方面:
	(1)进程类型.(系统进程/用户进程)
	(2) 进程对资源的需求.(需求量的大小)
	(3) 用户要求.(用户进程紧迫程度)
2) 动态优先权
	动态优先权是指在创建进程时所赋予的优先权,可以随进程的推进或随其等待时间的增加而改变的,以便获得更好的调度性能.
	例如,我们可以规定,在就绪队列中的进程,随其等待时间的增长,其优先权以速率a提高.若所有的进程都具有相同的优先权初值,则显然是最先进入就绪队列的进程,将因其动态优先权变得最高而优先获得处理机,此即FCFS算法.
	优先权的变化规律可描述为:
由于等待时间与服务时间之和,就是系统对该作业的响应时间,故该优先权又相当于响应比RP.
2. 抢占式和非抢占式
1) 非抢占式优先权算法
	在这种方式下，系统一旦把处理机分配给就绪队列中优先权最高的进程后，该进程便一**直执行下去，**直至完成；或因发生某事件使该进程放弃处理机时，系统方可再将处理机重新分配给另一优先权最高的进程。这种调度算法主要**用于批处理系统**中；也可用于某些对实时性要求不严的实时系统中。
2) 抢占式优先权调度算法
	在这种方式下，系统同样是把处理机分配给优先权最高的进程，使之执行。但在其执行期间，只要又出现了另一个其优先权更高的进程，进程调度程序就**立即停止当前进程(**原优先权最高的进程)的执行，**重新将处理机分配给新到的优先权最高的进**程。因此，在采用这种调度算法时，是每当系统中出现一个新的就绪进程i 时，就将其优先权Pi与正在执行的进程j 的优先权Pj进行比较。如果Pi≤Pj，原进程Pj便继续执行；但如果是Pi>Pj，则立即停止Pj的执行，做进程切换，使i 进程投入执行。显然，这种抢占式的优先权调度算法能更好地满足紧迫作业的要求，故而常用于要求**比较严格的实时系统**中，以及对**性能要求较高的批处理和分时系统**中。

	非抢占式（Nonpreemptive）：让进程运行直到结束或阻塞的调度方式   容易实现   适合专用系统，不适合通用系统   
	抢占式（Preemptive）：允许将逻辑上可继续运行的在运行过程暂停的调度方式   可防止单一进程长时间独占CPU   系统开销大（降低途径：硬件实现 [进程切换](https://www.baidu.com/s?wd=%E8%BF%9B%E7%A8%8B%E5%88%87%E6%8D%A2&from=1012015a&fenlei=mv6quAkxTZn0IZRqIHckPjm4nH00T1Y4uyw-mH7BP1IhnjF-PWK-0ZwV5Hcvrjm3rH6sPfKWUMw85HfYnjn4nH6sgvPsT6KdThsqpZwYTjCEQLGCpyw9Uz4Bmy-bIi4WUvYETgN-TLwGUv3EnW0Lrj6zPH0Y) ，或扩充主存以贮存大部分程序）
3. 三态模型：在多道程序系统中，进程在处理器上交替运行，状态也不断地发生变化。进程一般有3种基本状态：运行、就绪和阻塞。
　　（1）运行：当一个进程在处理机上运行时，则称该进程处于运行状态。处于此状态的进程的数目小于等于处理器的数目，对于单处理机系统，处于运行状态的进程只有一个。在没有其他进程可以执行时（如所有进程都在阻塞状态），通常会自动执行系统的空闲进程。
　　（2）**就绪**：当一个进程获得了除处理机以外的一切所需资源， ~一旦得到处理机即可运行~ ，则称此进程处于就绪状态。就绪进程可以按多个优先级来划分队列。例如，当一个进程由于时间片用完而进入就绪状态时，排入低优先级队列；当进程由I／O操作完成而进入就绪状态时，排入高优先级队列。
　　（3）**阻塞**：也称为**等待或睡眠**状态，一个进程正在等待某一事件发生（例如请求I/O而等待I/O完成等）而暂时停止运行，这时即使把处理机分配给进程也无法运行，故称该进程处于阻塞状态。

	 **~活跃就是在内存中，静止就是在磁盘中。~**
	**活跃就绪：**是指进程**在主存**并且可被调度的状态。
　**　 静止就绪（挂起就绪）**：是指进程被对换**到辅存**时的就绪状态，是不能被直接调度的状态，只有当主存中没有活跃就绪态进程，或者是挂起就绪态进程具有更高的优先级，系统将把挂起就绪态进程调回主存并转换为活跃就绪。
　　**活跃阻塞**：是指进程已在主存，一旦等待的事件产生便进入活跃就绪状态。
　　**静止阻塞**：是指进程对换到辅存时的阻塞状态，一旦等待的事件产生便进入静止就绪状态。
4. 	      **非剥夺进程调度**:分派程序一旦把处理机分配给某进程后便让它一直运行下去，直到进程完成或发生 进程调度某事件而阻塞时，才把处理机分配给另一个进程。
	**剥夺式进程调度:**当一个进程正在运行时，系统可以基于某种原则，剥夺已分配给它的处理机，将之分配给其它进程。
5. 每个进程中 ~**访问临界资源**~ 的那段程序称为**临界区**。
6. **整型信号量**（integer semaphore)：信号量是整数
**记录型信号量**（record semaphore)：每个信号量s除一个整数值s.value（计数）外，还有一个进程 等待队列 s.L，其中是阻塞在该信号量的各个进程的标识
**二进制信号量**(binary semaphore)：只允许信号量取0或1值
7. 互斥访问中，每类资源的信号量初值设置为1；
条件同步中，信号量初值设为0；
8. **响应比**=**作业周转时间/作业执行时间**
9. 题型：已知作业的到达时间和运行时间，按照**高响应比优先**算法，对作业的执行次序进行排序。
10. 在消息缓冲通信中， **~消息队列~** 属于**临界资源**，在消息缓冲区操作的前后，都要执行P、V操作，对该队列进行互斥访问控制。
11. 批处理系统常用调度算法：
①、先来先服务： FCFS 
②、最短作业优先
③、最短剩余时间优先
④、响应比最高者优先
分时系统调度算法：
①、轮转调度
②、优先级调度
③、多级队列调度
④、彩票调度
实时系统调度算法：
①、单比率调度：在实时系统中，事件是周期性发生的，单比率调度是视周期长度而定的抢占式策略，周期越短，优先级越高。
②、限期调度：当一个事件发生时，对应的实时进程/线程就被加入就绪队列，此队列按照截止期限排序，对于周期性事件，截止期限即为事件下一次发生的时间。
③、最少裕度法：先计算各个进程/线程的富裕时间，即裕度，然后选择裕度最少者执行。计算公式为：裕度＝截止时间-（就绪时间+计算时间）；裕度越小说明进程/线程越紧迫，就绪后令其尽快运行。
12. **剥夺式（抢占式）调度**：**轮转调度算法**（RR），**最短剩余时间有限算法**（SRTF）。
13. 1、对I/O型进程，让其进入最高优先级队列，以及时响应需要I/O 交互的进程。通常执行一个小的时间片，在该时间片内要求可处理完一次I/O请求的数据，然后转入到阻塞队列。
2、对计算型进程，每次执行完时间片后进入更低级队列。最终采用最大时间片来执行。
~**I/O型进程优先级高于计算型进程。**~
14. 进程在运行过程中，请求和释放资源的顺序不当（ ~**进程推进顺序不当**~ ），导致了 进程**死锁** 。
15. **产生死锁的原因主**要是：
（1） 因为系统资源不足。
（2） 进程运行推进的顺序不合适。
（3） 资源分配不当等。
16. 死锁的四个必要条件**：1）互斥条件 2）占有和等待条件 2）不可抢占条件 4）环路等待条件（循环等待）**。
死锁的处理方法：
	死锁预防：破坏四个条件；**有序资源分配法**可以破坏循环等待的条件；**静态分配资源**可以打破“占有和等待条件”
	死锁避免：分配资源前先判断是否会出现死锁；包括 **银行家算法**
	死锁检测；
	死锁恢复：进程终止；进程回退；资源抢占剥夺；
16. **有序资源分配**：这种算法资源按某种规则系统中的所有资源统一编号，申请时必须以上升的次序。系统要求申请进程：
　　1、对它所必须使用的而且属于同一类的所有资源，必须一次申请完；
　　2、在申请不同类资源时，必须按各类设备的编号依次申请。
**银行家算法**：该算法需要检查申请者对资源的最大需求量，如果系统现存的各类资源可以满足申请者的请求，就满足申请者的请求。
　　这样申请者就可很快完成其计算，然后释放它占用的资源，从而保证了系统中的所有进程都能完成，所以可避免死锁的发生。
17. **进程同步**:在多道程序环境下,进程是并发执行的,不同进程之间存在着不同的**相互制约**关系。
18. **进程控制块包含的信息：**
1.程序ID（PID、进程句柄）：它是唯一的，一个进程都必须对应一个PID。PID一般是整型数字
2.特征信息：一般分系统进程、用户进程、或者内核进程等
3.进程状态 ：运行、就绪、阻塞，表示进程现的运行情况
4.优先级：表示获得CPU控制权的优先级大小
5.通信信息：进程之间的通信关系的反映，由于 操作系统 会提供 通信信道
6.现场保护区：保护阻塞的进程用
7.资源需求、分配 控制信息
8.进程实体信息，指明程序路径和名称，进程数据在物理内存还是在 交换分区 （分页）中
9.其他信息：工作单位，工作区，文件信息等
19.  **进程控制块包含的信息：**
*1.标识信息。*
用于唯一地标识一个进程，常常分由用户使用的外部标识符和被系统使用的内部标识号。几乎所有操作系统中进程都被赋予一个唯一的、内部使用的数值型的进程号，操作系统的其他控制表可以通过进程号来交叉引用进程控制表。常用的标识信息包括进程标识符、父进程的标识符、用户进程名、用户组名等。
*2.现场信息。*
用于保留一个进程在运行时存放在处理器现场中的各种信息,任何一个进程在让出处理器时必须把此时的处理器现场信息保存到进程控制块中,而当该进程重新恢复运行时也应恢复处理器现场。常用的现场信息包括通用寄存器的内容、控制寄存器(如PSW寄存器)的内容、用户堆战指针、系统堆饺指针等。 
*3.控制信息。*
用于管理和调度一个进程。常用的控制信息包括：
l)进程的调度相关信息,如进程状态、等待事件和等待原因、进程优先级、队列指引元等；
2)进程组成信息,如正文段指针、数据段指针；
3)引进程间通信相关信息,如消息队列指针、信号量等互斥和同步机制；
4)进程在辅存储器内的地址；
5)CPU资源的占用和使用信息,如时间片余量、进程己占用CPU的时间、进程己执行的时间总和,记账信息；
6)进程特权信息,如在内存访问和处理器状态方面的特权；
	
